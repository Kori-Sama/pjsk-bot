# QQ车队机器人

这是一个基于go-cqhttp API的QQ机器人，使用FastAPI作为后端框架，SQLite作为数据库。该机器人实现了一个组队发布功能，允许用户创建、加入、查询和删除队伍。

## 功能特点

- 监听QQ群消息，处理以"车队"为前缀的命令
- 支持创建、加入、查询和删除队伍
- 队伍人数上限为5人
- 自动在凌晨4点删除在此时间之前开始的所有队伍
- 当队伍开始时间到达时，自动@队伍里的所有成员

## 命令列表

车队命令帮助：
- 车队 查询：列出所有发布的队伍
- 车队 加入 [序号]：加入指定的队伍
- 车队 查询 [序号]：列出这个队伍的当前加入人
- 车队 删除 [序号]：删除该队伍
- 车队 创建 [服务器] [开始时间]：创建一个新队伍，时间格式为'小时:分钟'
- 车队 退出 [序号]：退出指定的队伍


## 安装与配置

### 前提条件

- Python 3.7+
- go-cqhttp 已配置并运行

### 安装步骤

1. 克隆或下载本项目
2. 安装依赖：
   ```
   pip install -r requirements.txt
   ```
3. 启动服务器：
   ```
   python main.py
   ```

## 数据库结构

项目使用SQLite数据库，包含以下表：

- `teams`：存储队伍信息
- `team_members`：存储队伍成员信息

## 定时任务

- 每天凌晨4点删除过期队伍
- 每分钟检查一次队伍开始时间，并在队伍开始时通知所有成员

## 注意事项

- 本项目需要与go-cqhttp配合使用
- 时间格式必须为'YYYY-MM-DD HH:MM:SS'
- 只有队伍创建者可以删除队伍